[package]
name = "ironcode-tool"
version = "0.1.0"
edition = "2021"

[lib]
name = "ironcode_tool"
crate-type = ["cdylib", "rlib"]

[[bin]]
name = "ironcode-tool"
path = "src/main.rs"

[[bin]]
name = "compare"
path = "benches/compare.rs"

[[bin]]
name = "memory_bench"
path = "benches/memory_bench.rs"

[[bench]]
name = "vcs_bench"
harness = false

[[bench]]
name = "edit_bench"
harness = false

[dependencies]
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
walkdir = "2.3"
globset = "0.4"
ignore = "0.4"
rexile = "0.5.3"
sysinfo = "0.32"
portable-pty = "0.8"
libc = "0.2"
lazy_static = "1.4"
git2 = "0.19"
s-zip = "0.10.1"

# Webfetch dependencies (experimental - NOT recommended for production)
# Benchmark results show TypeScript is better for this use case
# Keep for reference only
reqwest = { version = "0.12", features = ["blocking"], optional = true }
scraper = { version = "0.20", optional = true }
html2md = { version = "0.2", optional = true }

[features]
default = []
webfetch = ["reqwest", "scraper", "html2md"]

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }
